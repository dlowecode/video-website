<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vimeo Video Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#7d3cff",
                        dark: "#1a1a1a",
                    }
                }
            }
        };
    </script>
</head>
<body class="bg-dark text-white">
    <!-- Full-Width Video Banner -->
    <div class="relative w-full h-[60vh] bg-black">
        <iframe 
            id="main-player"
            class="absolute top-0 left-0 w-full h-full"
            src="https://player.vimeo.com/video/123456789"
            frameborder="0"
            allow="autoplay; fullscreen"
            allowfullscreen>
        </iframe>

        <!-- Navigation Arrows -->
        <button 
            class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-black/50 hover:bg-black text-white p-3 rounded-full"
            onclick="prevVideo()">
            &#9664;
        </button>
        <button 
            class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-black/50 hover:bg-black text-white p-3 rounded-full"
            onclick="nextVideo()">
            &#9654;
        </button>
    </div>

    <!-- Video Grid -->
    <div class="container mx-auto px-4 py-6">
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            <script>
                // Array of Vimeo Video IDs
                const vimeoIds = [
                    "123456789", "234567890", "345678901", "456789012", "567890123",
                    "678901234", "789012345", "890123456", "901234567", "123456780"
                    // Add more video IDs here...
                ];
                let currentIndex = 0;

                // Update the player with the selected video
                function updatePlayer(videoId, index) {
                    document.getElementById('main-player').src = `https://player.vimeo.com/video/${videoId}?autoplay=1`;
                    currentIndex = index;
                }

                // Switch to the previous video
                function prevVideo() {
                    currentIndex = (currentIndex - 1 + vimeoIds.length) % vimeoIds.length;
                    updatePlayer(vimeoIds[currentIndex], currentIndex);
                }

                // Switch to the next video
                function nextVideo() {
                    currentIndex = (currentIndex + 1) % vimeoIds.length;
                    updatePlayer(vimeoIds[currentIndex], currentIndex);
                }

                // Fetch the video title from Vimeo API
                async function fetchVideoTitle(videoId) {
                    try {
                        const response = await fetch(`https://api.vimeo.com/videos/${videoId}`, {
                            headers: {
                                "Authorization": "Bearer b9675e24cf3f80f0e634532ccdd0d89d" // Replace with your token
                            }
                        });

                        if (!response.ok) {
                            console.error(`Error fetching video data for ${videoId}: ${response.status}`);
                            return "Error fetching title"; // Default error message
                        }

                        const data = await response.json();
                        return data.name || 'No title available'; // Return video title or fallback
                    } catch (error) {
                        console.error(`Error fetching title for ${videoId}:`, error);
                        return "Error fetching title";
                    }
                }

                // Display videos in the grid with titles
                async function displayVideos() {
                    for (let i = 0; i < vimeoIds.length; i++) {
                        const videoId = vimeoIds[i];
                        const title = await fetchVideoTitle(videoId); // Fetch title dynamically
                        const thumbnailUrl = `https://vumbnail.com/${videoId}.jpg`; // Get thumbnail from Vimeo

                        const videoElement = document.createElement("div");
                        videoElement.className = "relative cursor-pointer border border-gray-700 rounded-lg overflow-hidden shadow-md transform transition duration-300 hover:scale-105 hover:border-primary";
                        videoElement.onclick = () => updatePlayer(videoId, i);

                        videoElement.innerHTML = `
                            <img src="${thumbnailUrl}" alt="Video Thumbnail" class="w-full h-auto">
                            <div class="absolute bottom-0 left-0 w-full bg-black bg-opacity-50 text-white p-2 text-sm">${title}</div>
                        `;
                        
                        document.querySelector(".grid").appendChild(videoElement);
                    }
                }

                displayVideos();

                // Enable keyboard navigation for switching videos
                document.addEventListener("keydown", (event) => {
                    if (event.key === "ArrowLeft") prevVideo();
                    if (event.key === "ArrowRight") nextVideo();
                });
            </script>
        </div>
    </div>
</body>
</html>
